# 管理功能增強 - 向現有事件添加圖片

## 概述
增強了後台管理系統的上傳功能，現在支援將新圖片添加到現有的攝影事件中，而不僅僅是創建新事件。

## 新增功能

### 1. 事件模式選擇
在攝影作品上傳頁面中，現在提供兩種事件處理模式：
- **創建新事件**：原有功能，創建全新的攝影事件
- **添加到現有事件**：新功能，將圖片添加到已存在的事件中

### 2. 現有事件選擇器
- 自動載入所有現有的攝影事件
- 提供下拉選單供用戶選擇目標事件
- 顯示確認提示，說明圖片將被添加到選中的事件

### 3. 智能事件信息處理
- 添加到現有事件時，自動保持該事件的原有設定（描述、地點等）
- 如果找不到指定的現有事件，自動回退到創建新事件模式
- 維持事件信息的一致性

## 技術實現

### 前端 (Store)
- 新增 `eventMode` 狀態：控制事件處理模式
- 新增 `selectedExistingEvent` 狀態：存儲選中的現有事件
- 新增 `availablePhotographyEvents` 計算屬性：提供可用事件列表
- 更新 `canUpload` 驗證邏輯：根據不同模式進行驗證
- 增強上傳邏輯：根據模式設定不同的表單數據

### 前端 (組件)
- 更新 `EventForm.vue`：添加事件模式選擇界面
- 添加現有事件選擇下拉框
- 提供視覺化的狀態提示和說明

### 後端 (API)
- 增強 `upload.post.ts`：支援 `addToExistingEvent` 參數
- 實現現有事件信息查找機制
- 保持事件信息一致性的處理邏輯

## 使用方式

1. 進入後台管理系統的「上傳作品」頁面
2. 選擇「攝影作品」分類
3. 在事件設定區域選擇：
   - **創建新事件**：填寫新事件的名稱、描述、地點
   - **添加到現有事件**：從下拉選單中選擇現有事件
4. 上傳圖片，系統會根據選擇的模式處理事件信息

## 優勢

1. **更靈活的管理**：支援向現有事件補充圖片
2. **一致性維護**：自動保持事件信息的一致性
3. **用戶友好**：直觀的界面設計，清楚的操作提示
4. **向後相容**：完全保持原有功能不變
5. **錯誤處理**：智能的回退機制，確保操作穩定性

## 未來可能的擴展

- 支援批量移動圖片到不同事件
- 事件合併功能
- 更細粒度的事件管理選項
- 支援繪圖作品的事件管理

---
**實現時間**: 2025年1月
**版本**: v1.0
**狀態**: 已完成並測試